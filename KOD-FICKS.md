# –ü–ª–∞–Ω –¥—ñ–π "KOD-FICKS" –¥–ª—è –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π —Ç–∞ –ø–æ–º–∏–ª–æ–∫

**–î–∞—Ç–∞:** 2025-12-12
**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è:** –¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç —î –≤–∏—á–µ—Ä–ø–Ω–∏–º –ø–ª–∞–Ω–æ–º –¥—ñ–π –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤, —Å–ø—Ä—è–º–æ–≤–∞–Ω–∏–º –Ω–∞ —É—Å—É–Ω–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø—Ä–æ–±–ª–µ–º –±–µ–∑–ø–µ–∫–∏, –ª–æ–≥—ñ—á–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏—Ö –Ω–µ–¥–æ–ª—ñ–∫—ñ–≤, –≤–∏—è–≤–ª–µ–Ω–∏—Ö –ø—ñ–¥ —á–∞—Å –∞—É–¥–∏—Ç—É –µ–∫–æ—Å–∏—Å—Ç–µ–º–∏ "Dynamic SkyBlock LXD System".

---

## üö® –†–æ–∑–¥—ñ–ª 1: –£—Å—É–Ω–µ–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –≤—Ä–∞–∑–ª–∏–≤–æ—Å—Ç–µ–π –±–µ–∑–ø–µ–∫–∏

### –ú–æ–¥—É–ª—å: API

#### 1.1. –ù–µ–±–µ–∑–ø–µ—á–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–∏—Ö –¥–∞–Ω–∏—Ö (Hardcoded Secrets)

*   **–î—ñ—è 1:** –ü–æ–≤–Ω—ñ—Å—Ç—é –≤–∏–¥–∞–ª–∏—Ç–∏ –∂–æ—Ä—Å—Ç–∫–æ –∑–∞–∫–æ–¥–æ–≤–∞–Ω—É –∑–º—ñ–Ω–Ω—É `DATABASE_URL` –∑ —Ñ–∞–π–ª—É `api/app/core/config.py`.
*   **–î—ñ—è 2:** –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å—É–≤–æ—Ä—É –ø–æ–ª—ñ—Ç–∏–∫—É –∑–∞–ø—É—Å–∫—É: –¥–æ–¥–∞—Ç–æ–∫ –ø–æ–≤–∏–Ω–µ–Ω –∞–≤–∞—Ä—ñ–π–Ω–æ –∑–∞–≤–µ—Ä—à—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É, —è–∫—â–æ –∑–º—ñ–Ω–Ω–∞ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ `DATABASE_URL` –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞.
*   **–î—ñ—è 3:** –î–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —É —Ä–æ–±–æ—á–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ –≤–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑–∞—Ö–∏—â–µ–Ω–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É, —Ç–∞–∫–æ–≥–æ —è–∫ HashiCorp Vault, –∞–±–æ, —è–∫ –º—ñ–Ω—ñ–º—É–º, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞, —â–æ –Ω–∞–¥–∞—é—Ç—å—Å—è —Å–∏—Å—Ç–µ–º–æ—é —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è.

#### 1.2. –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –≤ –∫–ª—é—á–æ–≤–∏—Ö –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∞—Ö

*   **–î—ñ—è 1:** –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ –Ω–∞–¥—ñ–π–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –¥–ª—è –≤—Å—ñ—Ö –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤ API. –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–æ–∫–µ–Ω—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, JWT), —è–∫—ñ –≤–∏–¥–∞—é—Ç—å—Å—è –≥—Ä–∞–≤—Ü—é –ø—Ä–∏ –≤—Ö–æ–¥—ñ.
*   **–î—ñ—è 2:** –î–ª—è –∫–æ–∂–Ω–æ–≥–æ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∞, —â–æ –≤–∏–∫–æ–Ω—É—î –∫—Ä–∏—Ç–∏—á–Ω—ñ –¥—ñ—ó (–≤—Å—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –≤ `teams.py`, `islands.py`), –¥–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É: `player_uuid`, –≤–∏—Ç—è–≥–Ω—É—Ç–∏–π –∑ —Ç–æ–∫–µ–Ω–∞, –ø–æ–≤–∏–Ω–µ–Ω —Å—É–≤–æ—Ä–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ `player_uuid`, –Ω–∞–¥ —è–∫–∏–º –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –¥—ñ—è. –ì—Ä–∞–≤–µ—Ü—å –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –ø—Ä–∞–≤–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ª–∏—à–µ –≤–ª–∞—Å–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏.

### –ú–æ–¥—É–ª—å: Nestworldvelocity (–ü—Ä–æ–∫—Å—ñ-–ø–ª–∞–≥—ñ–Ω)

#### 1.3. –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø—É –¥–æ –∫–æ–º–∞–Ω–¥

*   **–î—ñ—è 1:** –ü–æ–≤–Ω—ñ—Å—Ç—é —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É –∑ API –¥–æ–∑–≤–æ–ª—ñ–≤ Velocity.
*   **–î—ñ—è 2:** –£ —Ñ–∞–π–ª—ñ `TeamCommand.java` –∑–∞–º—ñ–Ω–∏—Ç–∏ `hasPermission` `return true;` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–æ–∑–≤–æ–ª—ñ–≤, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `sender.hasPermission("nestworld.team.create")`.
*   **–î—ñ—è 3:** –°—Ç–≤–æ—Ä–∏—Ç–∏, –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç—É–≤–∞—Ç–∏ —Ç–∞ –≤–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ –ø–æ–≤–Ω–∏–π —Å–ø–∏—Å–æ–∫ –¥–æ–∑–≤–æ–ª—ñ–≤ –¥–ª—è –∫–æ–∂–Ω–æ—ó –ø—ñ–¥–∫–æ–º–∞–Ω–¥–∏ `/team`.

#### 1.4. –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤–≤–æ–¥—É

*   **–î—ñ—è 1:** –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ —Å–∞–Ω—ñ—Ç–∏–∑–∞—Ü—ñ—é –≤—Å—ñ—Ö –¥–∞–Ω–∏—Ö, —â–æ –Ω–∞–¥—Ö–æ–¥—è—Ç—å –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –æ—Å–æ–±–ª–∏–≤–æ –¥–ª—è –Ω–∞–∑–≤ –∫–æ–º–∞–Ω–¥.
*   **–î—ñ—è 2:** –ü–µ—Ä–µ–¥ –æ–±—Ä–æ–±–∫–æ—é –Ω–∞–∑–≤–∏ –∫–æ–º–∞–Ω–¥–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∏–¥–∞–ª—è—Ç–∏ –∑ –Ω–µ—ó –≤—Å—ñ –∫–æ–¥–∏ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è, –æ–±–º–µ–∂—É–≤–∞—Ç–∏ –¥–æ–≤–∂–∏–Ω—É —Ç–∞ –Ω–∞–±—ñ—Ä –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö —Å–∏–º–≤–æ–ª—ñ–≤, —â–æ–± –∑–∞–ø–æ–±—ñ–≥—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∞–º –∑ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º –∞–±–æ –∞—Ç–∞–∫–∞–º.

### –ú–æ–¥—É–ª—å: FTB-Quests (–ú–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π)

#### 1.5. –î–æ–≤—ñ—Ä–∞ –¥–æ –¥–∞–Ω–∏—Ö, —â–æ –Ω–∞–¥—Ö–æ–¥—è—Ç—å –≤—ñ–¥ –∫–ª—ñ—î–Ω—Ç–∞

*   **–î—ñ—è 1:** –ù–∞ —Å–µ—Ä–≤–µ—Ä–Ω—ñ–π —Å—Ç–æ—Ä–æ–Ω—ñ (—É —Ñ–∞–π–ª–∞—Ö `SubmitTaskMessage.java` —Ç–∞ `ClaimRewardMessage.java`) –ø–µ—Ä–µ–¥ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è–º –∑–∞–≤–¥–∞–Ω–Ω—è –∞–±–æ –≤–∏–¥–∞—á–µ—é –Ω–∞–≥–æ—Ä–æ–¥–∏ –¥–æ–¥–∞—Ç–∏ –æ–±–æ–≤'—è–∑–∫–æ–≤—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É: —á–∏ –Ω–∞–ª–µ–∂–∏—Ç—å –æ—Ç—Ä–∏–º–∞–Ω–∏–π `taskId` –∞–±–æ `rewardId` –¥–æ –∞–∫—Ç–∏–≤–Ω–∏—Ö –∫–≤–µ—Å—Ç—ñ–≤ –∫–æ–º–∞–Ω–¥–∏ –≥—Ä–∞–≤—Ü—è.
*   **–î—ñ—è 2:** –°–µ—Ä–≤–µ—Ä –ø–æ–≤–∏–Ω–µ–Ω –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ –≥—Ä–∞–≤—Ü—è —ñ –ø–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –∑–∞–ø–∏—Ç—É–≤–∞–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è/–Ω–∞–≥–æ—Ä–æ–¥–∞ —î —á–∞—Å—Ç–∏–Ω–æ—é —ó—Ö–Ω—å–æ—ó –ø–æ—Ç–æ—á–Ω–æ—ó –∫–≤–µ—Å—Ç–æ–≤–æ—ó –ª—ñ–Ω—ñ—ó. –ó–∞–ø–∏—Ç–∏, —â–æ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä–∫—É, –ø–æ–≤–∏–Ω–Ω—ñ –≤—ñ–¥—Ö–∏–ª—è—Ç–∏—Å—è.

---

## ‚ùå –†–æ–∑–¥—ñ–ª 2: –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ—Ä—É—à–µ–Ω—å —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—ó —Ç–∞ –ª–æ–≥—ñ—á–Ω–æ—ó —Ü—ñ–ª—ñ—Å–Ω–æ—Å—Ç—ñ

### –ú–æ–¥—É–ª—å: API

#### 2.1. –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω—ñ Race Conditions —É —Ñ–æ–Ω–æ–≤–∏—Ö –∑–∞–≤–¥–∞–Ω–Ω—è—Ö

*   **–î—ñ—è 1:** –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ –º–µ—Ö–∞–Ω—ñ–∑–º –±–ª–æ–∫—É–≤–∞–Ω–Ω—è –Ω–∞ –æ—Å–Ω–æ–≤—ñ Redis –¥–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π –∑ –æ—Å—Ç—Ä–æ–≤–∞–º–∏.
*   **–î—ñ—è 2:** –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –±—É–¥—å-—è–∫–æ—ó —Ç—Ä–∏–≤–∞–ª–æ—ó —Ñ–æ–Ω–æ–≤–æ—ó –∑–∞–¥–∞—á—ñ (start, stop, freeze) –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –æ—Å—Ç—Ä–æ–≤–∞, API –ø–æ–≤–∏–Ω–µ–Ω –æ—Ç—Ä–∏–º–∞—Ç–∏ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è (`lock`) –¥–ª—è —Ü—å–æ–≥–æ –æ—Å—Ç—Ä–æ–≤–∞. –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è –∑–Ω—ñ–º–∞—î—Ç—å—Å—è –ª–∏—à–µ –ø—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∞–±–æ –∑–±–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—ó. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –Ω–∞–¥ –æ–¥–Ω–∏–º –æ—Å—Ç—Ä–æ–≤–æ–º –æ–¥–Ω–æ—á–∞—Å–Ω–æ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è.

#### 2.2. –ù–∞–¥–º—ñ—Ä–Ω–æ —Å–∫–ª–∞–¥–Ω–∞ —Ç–∞ –Ω–µ—á—ñ—Ç–∫–∞ –ª–æ–≥—ñ–∫–∞

*   **–î—ñ—è 1:** –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç–æ–¥—É `start_island_instance`. –†–æ–∑–±–∏—Ç–∏ –π–æ–≥–æ –Ω–∞ –∫—ñ–ª—å–∫–∞ –º–µ–Ω—à–∏—Ö, –ª–æ–≥—ñ—á–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π –∑ —á—ñ—Ç–∫–æ—é –∑–æ–Ω–æ—é –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `get_or_create_island`, `ensure_container_running`, `update_island_state`).
*   **–î—ñ—è 2:** –ü–æ–∫—Ä–∞—â–∏—Ç–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç–∞–Ω–æ–º: –ø–µ—Ä–µ–¥ —É—Ö–≤–∞–ª–µ–Ω–Ω—è–º —Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ –¥—ñ—é –∑–∞–≤–∂–¥–∏ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –Ω–∞–π—Å–≤—ñ–∂—ñ—à–∏–π —Å—Ç–∞–Ω –æ—Å—Ç—Ä–æ–≤–∞ –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —É —Ä–∞–º–∫–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó.

#### 2.3. –ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∞ –ª–æ–≥—ñ–∫–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è "—Å–æ–ª–æ" –æ—Å—Ç—Ä–æ–≤—ñ–≤

*   **–î—ñ—è 1:** –ó–º—ñ–Ω–∏—Ç–∏ –ª–æ–≥—ñ–∫—É –≤ `handle_join_team`. –í–∏–¥–∞–ª–µ–Ω–Ω—è –æ—Å—Ç—Ä–æ–≤–∞ –ø–æ–≤–∏–Ω–Ω–æ –≤—ñ–¥–±—É–≤–∞—Ç–∏—Å—è –Ω–µ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —É—á–∞—Å–Ω–∏–∫—ñ–≤.
*   **–î—ñ—è 2:** –í–≤–µ—Å—Ç–∏ –≤ –º–æ–¥–µ–ª—å –¥–∞–Ω–∏—Ö –æ—Å—Ç—Ä–æ–≤–∞/–∫–æ–º–∞–Ω–¥–∏ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –ø—Ä–∞–ø–æ—Ä, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `is_starter_island`, —è–∫–∏–π –±—É–¥–µ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –Ω–∞ —Ç–µ, —á–∏ —î —Ü–µ–π –æ—Å—Ç—Ä—ñ–≤ —Ç–∏–º—á–∞—Å–æ–≤–∏–º "—Å—Ç–∞—Ä—Ç–æ–≤–∏–º" —ñ —á–∏ –º–æ–∂–Ω–∞ –π–æ–≥–æ –±–µ–∑–ø–µ—á–Ω–æ –≤–∏–¥–∞–ª–∏—Ç–∏ –ø—Ä–∏ –ø—Ä–∏—î–¥–Ω–∞–Ω–Ω—ñ –¥–æ —ñ–Ω—à–æ—ó –∫–æ–º–∞–Ω–¥–∏.

### –ú–æ–¥—É–ª—å: Nestworldvelocity (–ü—Ä–æ–∫—Å—ñ-–ø–ª–∞–≥—ñ–Ω)

#### 2.4. Race Condition –ø—Ä–∏ –ø–µ—Ä–µ–ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—ñ –≥—Ä–∞–≤—Ü—è

*   **–î—ñ—è 1:** –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç–∞–Ω–∞–º–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≥—Ä–∞–≤—Ü—ñ–≤. –ó–∞–º—ñ—Å—Ç—å –Ω–µ–∑–∞–ª–µ–∂–Ω–∏—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö –≤–∏–∫–ª–∏–∫—ñ–≤ API, —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –≥—Ä–∞–≤—Ü—è, —â–æ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è, —á—ñ—Ç–∫—É –º–∞—à–∏–Ω—É —Å—Ç–∞–Ω—ñ–≤.
*   **–î—ñ—è 2:** –ü—Ä–∏ –≤–∏—Ö–æ–¥—ñ –≥—Ä–∞–≤—Ü—è –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ –∑—É–ø–∏–Ω–∫—É –æ—Å—Ç—Ä–æ–≤–∞ –ø–æ–≤–∏–Ω–Ω–æ –ø–ª–∞–Ω—É–≤–∞—Ç–∏—Å—è –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é –π–æ–≥–æ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è. –ü—Ä–∏ —à–≤–∏–¥–∫–æ–º—É –ø–µ—Ä–µ–ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—ñ –ø–ª–∞–≥—ñ–Ω –ø–æ–≤–∏–Ω–µ–Ω –∑–Ω–∞—Ö–æ–¥–∏—Ç–∏ —Ç–∞ —Å–∫–∞—Å–æ–≤—É–≤–∞—Ç–∏ –∑–∞–ø–ª–∞–Ω–æ–≤–∞–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è –∑–∞ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º (UUID –≥—Ä–∞–≤—Ü—è), —â–æ —É–Ω–µ–º–æ–∂–ª–∏–≤–∏—Ç—å –∑—É–ø–∏–Ω–∫—É –æ—Å—Ç—Ä–æ–≤–∞, —è–∫—â–æ –≥—Ä–∞–≤–µ—Ü—å –ø–æ–≤–µ—Ä–Ω—É–≤—Å—è.

#### 2.5. –ù–µ–Ω–∞–¥—ñ–π–Ω–∞ –¥–µ—Ä–∂–∞–≤–Ω–∞ –º–∞—à–∏–Ω–∞ –Ω–∞ –æ—Å–Ω–æ–≤—ñ polling

*   **–î—ñ—è 1:** –ü–æ–≤–Ω—ñ—Å—Ç—é –≤—ñ–¥–º–æ–≤–∏—Ç–∏—Å—è –≤—ñ–¥ –º–µ—Ö–∞–Ω—ñ–∑–º—É –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è (`pollForRunningAndConnect`) —ñ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É, –∫–µ—Ä–æ–≤–∞–Ω—É –ø–æ–¥—ñ—è–º–∏, –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º WebSocket.
*   **–î—ñ—è 2:** API –ø–æ–≤–∏–Ω–µ–Ω –Ω–∞–¥—Å–∏–ª–∞—Ç–∏ –ø—Ä–æ–∫—Å—ñ-–ø–ª–∞–≥—ñ–Ω—É –ø–æ–¥—ñ—ó –ø—Ä–æ –∑–º—ñ–Ω—É —Å—Ç–∞—Ç—É—Å—É –æ—Å—Ç—Ä–æ–≤–∞ (`STARTING`, `RUNNING`, `FAILED`). –ü–ª–∞–≥—ñ–Ω –ø–æ–≤–∏–Ω–µ–Ω –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏ –≥—Ä–∞–≤—Ü—è –ª–∏—à–µ –ø—ñ—Å–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –ø–æ–¥—ñ—ó `RUNNING` —ñ –∫–æ—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–æ–±–ª—è—Ç–∏ –ø–æ–¥—ñ—é `FAILED`, –ø–æ–≤—ñ–¥–æ–º–ª—è—é—á–∏ –≥—Ä–∞–≤—Ü—è –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º—É.

#### 2.6. –ü–æ—Ç–µ–Ω—Ü—ñ–π–Ω–∏–π –≤–∏—Ç—ñ–∫ —Ä–µ—Å—É—Ä—Å—ñ–≤ –ø—Ä–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—ñ

*   **–î—ñ—è 1:** –î–ª—è API-–∑–∞–ø–∏—Ç—É –Ω–∞ –∑—É–ø–∏–Ω–∫—É –æ—Å—Ç—Ä–æ–≤–∞, —â–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –ø—Ä–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—ñ –≥—Ä–∞–≤—Ü—è –ø—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É, —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –º–µ—Ö–∞–Ω—ñ–∑–º –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö —Å–ø—Ä–æ–± –∑ –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–æ—é –∑–∞—Ç—Ä–∏–º–∫–æ—é.
*   **–î—ñ—è 2:** –î–æ–¥–∞—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –¥–ª—è "–æ—Å—Ç—Ä–æ–≤—ñ–≤-—Å–∏—Ä—ñ—Ç" ‚Äî —Ç–∏—Ö, —â–æ –ø—Ä–∞—Ü—é—é—Ç—å –±–µ–∑ –≥—Ä–∞–≤—Ü—ñ–≤ —ñ –Ω–µ –∑–º–æ–≥–ª–∏ –∑—É–ø–∏–Ω–∏—Ç–∏—Å—è.

### –ú–æ–¥—É–ª—å: mods-server

#### 2.7. –ù–µ–Ω–∞–¥—ñ–π–Ω–∞ –ª–æ–≥—ñ–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–∞–º–æ—Ä–æ–∂—É–≤–∞–Ω–Ω—è

*   **–î—ñ—è 1:** –í–∏–¥–∞–ª–∏—Ç–∏ —É–º–æ–≤—É, —è–∫–∞ –∞–∫—Ç–∏–≤—É—î –∞–≤—Ç–æ–∑–∞–º–æ—Ä–æ–∂—É–≤–∞–Ω–Ω—è –ª–∏—à–µ –ø—Ä–∏ –≤—Ö–æ–¥—ñ –≥—Ä–∞–≤—Ü—è –ø—Ä–æ—Ç—è–≥–æ–º –ø–µ—Ä—à–æ—ó –≥–æ–¥–∏–Ω–∏. –¢–∞–π–º–µ—Ä –∞–≤—Ç–æ–∑–∞–º–æ—Ä–æ–∂—É–≤–∞–Ω–Ω—è –ø–æ–≤–∏–Ω–µ–Ω –∞–∫—Ç–∏–≤—É–≤–∞—Ç–∏—Å—è *–∑–∞–≤–∂–¥–∏*, –∫–æ–ª–∏ –æ—Å—Ç–∞–Ω–Ω—ñ–π –≥—Ä–∞–≤–µ—Ü—å –∑–∞–ª–∏—à–∞—î —Å–µ—Ä–≤–µ—Ä.

#### 2.8. –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å "Heartbeat" —Å–∏–≥–Ω–∞–ª—É

*   **–î—ñ—è 1:** –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω—É –≤—ñ–¥–ø—Ä–∞–≤–∫—É "heartbeat" —Å–∏–≥–Ω–∞–ª—É –≤—ñ–¥ `mods-server` –¥–æ API (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–∂–Ω—ñ 30-60 —Å–µ–∫—É–Ω–¥).
*   **–î—ñ—è 2:** API –ø–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ —á–∞—Å –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ heartbeat –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –æ—Å—Ç—Ä–æ–≤–∞. –Ø–∫—â–æ —Å–∏–≥–Ω–∞–ª –Ω–µ –Ω–∞–¥—Ö–æ–¥–∏—Ç—å –ø—Ä–æ—Ç—è–≥–æ–º –ø–µ–≤–Ω–æ–≥–æ —á–∞—Å—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 2-3 —ñ–Ω—Ç–µ—Ä–≤–∞–ª–∏), API –ø–æ–≤–∏–Ω–µ–Ω –ø–æ–∑–Ω–∞—á–∞—Ç–∏ –æ—Å—Ç—Ä—ñ–≤ —è–∫ `UNRESPONSIVE` —ñ —Ç–∏–º—á–∞—Å–æ–≤–æ –±–ª–æ–∫—É–≤–∞—Ç–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –Ω—å–æ–≥–æ –≥—Ä–∞–≤—Ü—ñ–≤.

#### 2.9. –ù–µ–æ–±—Ä–æ–±–ª–µ–Ω—ñ –∑–±–æ—ó API-–∑–∞–ø–∏—Ç—ñ–≤

*   **–î—ñ—è 1:** –í—Å—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ API-–≤–∏–∫–ª–∏–∫–∏ (`/ready`, `/freeze`) –æ–±–µ—Ä–Ω—É—Ç–∏ –≤ –ª–æ–≥—ñ–∫—É –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö —Å–ø—Ä–æ–± –∑ –µ–∫—Å–ø–æ–Ω–µ–Ω—Ü—ñ–π–Ω–æ—é –∑–∞—Ç—Ä–∏–º–∫–æ—é.
*   **–î—ñ—è 2:** –Ø–∫—â–æ –∑–∞–ø–∏—Ç –Ω–µ –≤–¥–∞—î—Ç—å—Å—è –ø—ñ—Å–ª—è –≤—Å—ñ—Ö —Å–ø—Ä–æ–±, –ø–æ–º–∏–ª–∫–∞ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –∑–∞–ø–∏—Å–∞–Ω–∞ –≤ –ª–æ–≥, –∞ —Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ –ø–µ—Ä–µ–π—Ç–∏ –≤ –±–µ–∑–ø–µ—á–Ω–∏–π —Ä–µ–∂–∏–º –∞–±–æ —Å–ø–æ–≤—ñ—Å—Ç–∏—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

### –ú–æ–¥—É–ª—å: FTB-Quests (–ú–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π)

#### 2.10. Race Condition –ø—Ä–∏ –¥–æ—Å—Ç—É–ø—ñ –¥–æ –¥–∞–Ω–∏—Ö –∫–æ–º–∞–Ω–¥–∏

*   **–î—ñ—è 1:** **–ö–ª—é—á–æ–≤–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:** –ó—Ä–æ–±–∏—Ç–∏ –ø–æ—á–∞—Ç–∫–æ–≤–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∫–æ–º–∞–Ω–¥–∏ –≤ `mods-server` **–±–ª–æ–∫—É—é—á–∏–º —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏–º –≤–∏–∫–ª–∏–∫–æ–º**.
*   **–î—ñ—è 2:** –¶–µ–π –≤–∏–∫–ª–∏–∫ –ø–æ–≤–∏–Ω–µ–Ω –≤—ñ–¥–±—É–≤–∞—Ç–∏—Å—è –Ω–∞ –µ—Ç–∞–ø—ñ –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞ *–¥–æ* –ø–æ–≤–Ω–æ—ó —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –º–æ–¥—É–ª—ñ–≤, —Ç–∞–∫–∏—Ö —è–∫ FTB Quests. –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –∫–µ—à –¥–∞–Ω–∏—Ö –∫–æ–º–∞–Ω–¥–∏ –∑–∞–≤–∂–¥–∏ –±—É–¥–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–∏–π –¥–æ —Ç–æ–≥–æ, —è–∫ FTB Quests —Å–ø—Ä–æ–±—É—î –¥–æ –Ω—å–æ–≥–æ –∑–≤–µ—Ä–Ω—É—Ç–∏—Å—è. –Ø–∫—â–æ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –∑–∞–ø–∏—Ç –¥–æ API –Ω–µ –≤–¥–∞—î—Ç—å—Å—è, –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–≤–∏–Ω–µ–Ω –±—É—Ç–∏ –ø–µ—Ä–µ—Ä–≤–∞–Ω–∏–π –∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—é –ø–æ–º–∏–ª–∫–æ—é –≤ –ª–æ–∑—ñ.

#### 2.11. –ù–µ–±–µ–∑–ø–µ—á–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Singleton `IslandData.UNLOADED`

*   **–î—ñ—è 1:** –ó–∞–º—ñ—Å—Ç—å –º–æ–≤—á–∞–∑–Ω–æ–≥–æ —ñ–≥–Ω–æ—Ä—É–≤–∞–Ω–Ω—è –¥—ñ–π, –∫–æ–ª–∏ –¥–∞–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ, —Å–∏—Å—Ç–µ–º–∞ –ø–æ–≤–∏–Ω–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ –±–ª–æ–∫—É–≤–∞—Ç–∏ –¥—ñ—ó, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –∫–≤–µ—Å—Ç–∞–º–∏.
*   **–î—ñ—è 2:** –£ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –æ–±—Ä–æ–±–Ω–∏–∫–∞—Ö –ø–æ–¥—ñ–π —Ç–∞ –∫–æ–º–∞–Ω–¥ –¥–æ–¥–∞—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É. –Ø–∫—â–æ –¥–∞–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ ‚Äî —Ü–µ `UNLOADED`, —Å–∫–∞—Å—É–≤–∞—Ç–∏ –ø–æ–¥—ñ—é —Ç–∞ –Ω–∞–¥—ñ—Å–ª–∞—Ç–∏ –≥—Ä–∞–≤—Ü–µ–≤—ñ —á—ñ—Ç–∫–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —Ç–µ, —â–æ –∫–≤–µ—Å—Ç–æ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ —Ç–∏–º—á–∞—Å–æ–≤–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.

---

## üìà –†–æ–∑–¥—ñ–ª 3: –£—Å—É–Ω–µ–Ω–Ω—è –ø–µ—Ä–µ—à–∫–æ–¥ –¥–ª—è –¥–∏–∑–∞–π–Ω—É —Ç–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ—Å—Ç—ñ

### –ú–æ–¥—É–ª—å: API

#### 3.1. –ù–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ WebSocket

*   **–î—ñ—è 1:** –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º–∏ –æ–±–º—ñ–Ω—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º–∏ WebSocket. –ó–∞–º—ñ—Å—Ç—å —Ç—Ä–∞–Ω—Å–ª—è—Ü—ñ—ó –≤—Å—ñ—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É—Å—ñ–º –µ–∫–∑–µ–º–ø–ª—è—Ä–∞–º API —á–µ—Ä–µ–∑ Redis Pub/Sub, –≤–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ –±—ñ–ª—å—à —Ü—ñ–ª—å–æ–≤–∏–π –ø—ñ–¥—Ö—ñ–¥.
*   **–î—ñ—è 2:** –†–æ–∑–≥–ª—è–Ω—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ–∫—Ä–µ–º–∏—Ö –∫–∞–Ω–∞–ª—ñ–≤ Redis –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ API –∞–±–æ –±—ñ–ª—å—à –ø—Ä–æ—Å—É–Ω—É—Ç–æ–≥–æ –±—Ä–æ–∫–µ—Ä–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, RabbitMQ), —è–∫–∏–π –º–æ–∂–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑—É–≤–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –¥–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞.

#### 3.2. –°–ª–∞–±–∫–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è

*   **–î—ñ—è 1:** –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON.
*   **–î—ñ—è 2:** –í–ø—Ä–æ–≤–∞–¥–∏—Ç–∏ `Correlation ID`. –ö–æ–∂–µ–Ω –≤—Ö—ñ–¥–Ω–∏–π –∑–∞–ø–∏—Ç –¥–æ API –ø–æ–≤–∏–Ω–µ–Ω –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä, —è–∫–∏–π –±—É–¥–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏—Å—è —É –≤—Å—ñ –ª–æ–≥-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ —Ü–∏–º –∑–∞–ø–∏—Ç–æ–º, —É –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å–∞—Ö. –¶–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–≤–Ω—ñ—Å—Ç—é –≤—ñ–¥—Å—Ç–µ–∂–∏—Ç–∏ —à–ª—è—Ö –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—É.

### –ú–æ–¥—É–ª—å: Nestworldvelocity (–ü—Ä–æ–∫—Å—ñ-–ø–ª–∞–≥—ñ–Ω)

#### 3.3. –ù–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º polling

*   **–î—ñ—è 1:** (–ü–æ–≤—Ç–æ—Ä—é—î –ø—É–Ω–∫—Ç 2.5) –ü–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–º—ñ–Ω–∏—Ç–∏ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è API –Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É, –∫–µ—Ä–æ–≤–∞–Ω—É –ø–æ–¥—ñ—è–º–∏ —á–µ—Ä–µ–∑ WebSocket. –¶–µ —î–¥–∏–Ω–µ –ø—Ä–∞–≤–∏–ª—å–Ω–µ —Ä—ñ—à–µ–Ω–Ω—è –¥–ª—è —É—Å—É–Ω–µ–Ω–Ω—è –∑–∞–π–≤–æ–≥–æ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è.

#### 3.4. –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å—Ç–∞–Ω–æ–º

*   **–î—ñ—è 1:** –Ø–∫—â–æ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É –ø–ª–∞–Ω—É—î—Ç—å—Å—è –∑–∞–ø—É—Å–∫ –∫—ñ–ª—å–∫–æ—Ö –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ –ø—Ä–æ–∫—Å—ñ-—Å–µ—Ä–≤–µ—Ä–∞, –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –≤–∏–Ω–µ—Å—Ç–∏ –¥–∞–Ω—ñ –ø—Ä–æ —Å–µ—Å—ñ—ó —Ç–∞ —Å—Ç–∞–Ω–∏ –≥—Ä–∞–≤—Ü—ñ–≤ —É –∑–æ–≤–Ω—ñ—à–Ω—î —Å—Ö–æ–≤–∏—â–µ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Redis.
*   **–î—ñ—è 2:** –¶–µ –¥–æ–∑–≤–æ–ª–∏—Ç—å –±—É–¥—å-—è–∫–æ–º—É –µ–∫–∑–µ–º–ø–ª—è—Ä—É –ø—Ä–æ–∫—Å—ñ –æ—Ç—Ä–∏–º–∞—Ç–∏ –∞–∫—Ç—É–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å—Ç–∞–Ω –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –≥—Ä–∞–≤—Ü—è.

### –ú–æ–¥—É–ª—å: mods-server

#### 3.5. –ë–ª–æ–∫—É—é—á—ñ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ API-–∑–∞–ø–∏—Ç–∏

*   **–î—ñ—è 1:** –ó–∞ –≤–∏–Ω—è—Ç–∫–æ–º –ø–æ—á–∞—Ç–∫–æ–≤–æ–≥–æ –±–ª–æ–∫—É—é—á–æ–≥–æ –∑–∞–ø–∏—Ç—É –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ —Å–µ—Ä–≤–µ—Ä–∞ (–ø—É–Ω–∫—Ç 2.10), –≤—Å—ñ —ñ–Ω—à—ñ –º–µ—Ä–µ–∂–µ–≤—ñ –≤–∏–∫–ª–∏–∫–∏ –¥–æ API –∑ –≥–æ–ª–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫—É —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.
*   **–î—ñ—è 2:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–∫—Ä–µ–º–∏–π –ø—É–ª –ø–æ—Ç–æ–∫—ñ–≤ –¥–ª—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ "–∑–∞–≤–∏—Å–∞–Ω–Ω—è" –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —ñ–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª—É (server tick).

#### 3.6. –ñ–æ—Ä—Å—Ç–∫–∏–π –∑–≤'—è–∑–æ–∫ –∑ FTB Quests

*   **–î—ñ—è 1:** –°—Ç–≤–æ—Ä–∏—Ç–∏ –≤ `mods-server` —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –∫–ª–∞—Å-–∞–¥–∞–ø—Ç–µ—Ä (`FTBQuestsBridge`), —è–∫–∏–π –±—É–¥–µ —î–¥–∏–Ω–æ—é —Ç–æ—á–∫–æ—é –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ FTB Quests.
*   **–î—ñ—è 2:** –í—Å—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è –∑ FTB Quests –ø–æ–≤–∏–Ω–Ω–∞ –π—Ç–∏ —á–µ—Ä–µ–∑ —Ü–µ–π –∞–¥–∞–ø—Ç–µ—Ä. –ê–¥–∞–ø—Ç–µ—Ä –ø–æ–≤–∏–Ω–µ–Ω —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —â–æ –¥–æ–∑–≤–æ–ª–∏—Ç—å –ª–µ–≥–∫–æ –∑–∞–º—ñ–Ω–∏—Ç–∏ –π–æ–≥–æ –Ω–∞ mock-–æ–±'—î–∫—Ç –¥–ª—è —ñ–∑–æ–ª—å–æ–≤–∞–Ω–æ–≥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è `mods-server`.

### –ú–æ–¥—É–ª—å: FTB-Quests (–ú–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π)

#### 3.7. –ñ–æ—Ä—Å—Ç–∫–∏–π, —Ö–∞—Ä–¥–∫–æ–¥–æ–≤–∏–π –∑–≤'—è–∑–æ–∫

*   **–î—ñ—è 1:** –Ü–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å. –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± FTB Quests –Ω–∞–ø—Ä—è–º—É –≤–∏–∫–ª–∏–∫–∞–≤ —Å—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ `mods-server`, `mods-server` –ø–æ–≤–∏–Ω–µ–Ω —Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ —Å–≤—ñ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–∞–Ω–∏—Ö —É FTB Quests –ø—ñ–¥ —á–∞—Å —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.
*   **–î—ñ—è 2:** –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–∞—Ç–µ—Ä–Ω Service Locator –∞–±–æ Dependency Injection, —â–æ–± FTB Quests –∑–∞–ø–∏—Ç—É–≤–∞–≤ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –¥–∞–Ω–∏—Ö —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –Ω–µ –∑–Ω–∞—é—á–∏ –ø—Ä–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –∫–ª–∞—Å –∑ `mods-server`.

#### 3.8. –í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —á—ñ—Ç–∫–æ–≥–æ —à–∞—Ä—É –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó

*   **–î—ñ—è 1:** (–ü–æ–≤'—è–∑–∞–Ω–æ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–º –ø—É–Ω–∫—Ç–æ–º) –í–∏–∑–Ω–∞—á–∏—Ç–∏ —á—ñ—Ç–∫–∏–π Java-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `TeamDataProvider`, —è–∫–∏–π –±—É–¥–µ –º—ñ—Å—Ç–∏—Ç–∏ –≤—Å—ñ –º–µ—Ç–æ–¥–∏, –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–ª—è FTB Quests (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `getTeamId(Player)`).
*   **–î—ñ—è 2:** `mods-server` –±—É–¥–µ –Ω–∞–¥–∞–≤–∞—Ç–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é —Ü—å–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, –∞ –∫–æ–¥ FTB Quests –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤–∏–∫–ª—é—á–Ω–æ –∑ —Ü–∏–º —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.
